# Fortune Spinner

–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã –Ω–∞ Flame –¥–ª—è Flutter —Å –¥–≤—É–º—è –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏: "–í—ã–∏–≥—Ä–∞–ª" –∏ "–ù–µ –≤—ã–∏–≥—Ä–∞–ª".

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üéØ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ü–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
- üé® –ö—Ä–∞—Å–∏–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è
- üé≤ –°–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚ö° –ü–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ Flame Engine
- üì± –õ–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –ª—é–±–æ–µ Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚öôÔ∏è –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–æ–±–∞–≤—å—Ç–µ –≤ `pubspec.yaml`:

```yaml
dependencies:
  fortune_spinner:
    git:
      url: https://github.com/your-repo/fortune_spinner.git
```

–ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ:

```yaml
dependencies:
  fortune_spinner:
    path: ../fortune_spinner
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```dart
import 'package:flutter/material.dart';
import 'package:fortune_spinner/fortune_spinner.dart';

class MyHomePage extends StatefulWidget {
  @override
  State<MyHomePage> createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  String _result = '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ–ª–µ—Å–æ';

  void _onSpinResult(SectionType result) {
    setState(() {
      _result = result == SectionType.win 
        ? '–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!' 
        : '–ù–µ –ø–æ–≤–µ–∑–ª–æ';
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Center(
        child: Column(
          children: [
            SizedBox(
              width: 350,
              height: 350,
              child: FortuneWheelWidget(
                onResult: _onSpinResult,
                spinDuration: 5.0, // –í—Ä–µ–º—è –≤—Ä–∞—â–µ–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3.0)
                backgroundColor: Colors.blue, // –¶–≤–µ—Ç —Ñ–æ–Ω–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —á–µ—Ä–Ω—ã–π)
                pointerPosition: PointerPosition.bottom, // –ü–æ–∑–∏—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é top)
                pointerOffset: 20.0, // –ù–∞—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–µ–ª–∫–∞ –∑–∞—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä—å –∫–æ–ª–µ—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
                pointerWidth: 30.0, // –®–∏—Ä–∏–Ω–∞ —Å—Ç—Ä–µ–ª–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 25.0)
                pointerHeight: 50.0, // –í—ã—Å–æ—Ç–∞ —Å—Ç—Ä–µ–ª–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 40.0)
                sectionsCount: 8, // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ü–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
                showSectionIndex: true, // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false)
              ),
            ),
            Text(_result),
          ],
        ),
      ),
    );
  }
}
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–∞

```bash
cd example
flutter run
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ–ª–µ—Å–æ** - –∫–æ–ª–µ—Å–æ –Ω–∞—á–Ω—ë—Ç –≤—Ä–∞—â–∞—Ç—å—Å—è
2. **–ñ–¥–∏—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏** - –∫–æ–ª–µ—Å–æ –∑–∞–º–µ–¥–ª–∏—Ç—Å—è –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
3. **–ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - callback –≤–µ—Ä–Ω—ë—Ç `SectionType.win` –∏–ª–∏ `SectionType.lose`

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π:**
- –ß–µ—Ç–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã (0, 2, 4, ...) - "–í—ã–∏–≥—Ä–∞–ª" (–∑–µ–ª–µ–Ω—ã–π)
- –ù–µ—á–µ—Ç–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã (1, 3, 5, ...) - "–ù–µ –≤—ã–∏–≥—Ä–∞–ª" (–∫—Ä–∞—Å–Ω—ã–π)

–ü—Ä–∏–º–µ—Ä—ã:
- `sectionsCount: 6` ‚Üí 3 —Å–µ–∫—Ü–∏–∏ "–í—ã–∏–≥—Ä–∞–ª", 3 —Å–µ–∫—Ü–∏–∏ "–ù–µ –≤—ã–∏–≥—Ä–∞–ª"
- `sectionsCount: 10` ‚Üí 5 —Å–µ–∫—Ü–∏–π "–í—ã–∏–≥—Ä–∞–ª", 5 —Å–µ–∫—Ü–∏–π "–ù–µ –≤—ã–∏–≥—Ä–∞–ª" (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `sectionsCount: 20` ‚Üí 10 —Å–µ–∫—Ü–∏–π "–í—ã–∏–≥—Ä–∞–ª", 10 —Å–µ–∫—Ü–∏–π "–ù–µ –≤—ã–∏–≥—Ä–∞–ª"

## –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ —Å–µ–∫—Ü–∏–π:

```dart
FortuneWheelWidget(
  onResult: _onSpinResult,
  showSectionIndex: true, // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏
)
```

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –Ω–∞ –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –µ—ë –∏–Ω–¥–µ–∫—Å (–∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º –Ω–∞ –∫—Ä–∞—é) –∏ —Ç–µ–∫—Å—Ç (–º–µ–Ω—å—à–∏–º —à—Ä–∏—Ñ—Ç–æ–º –±–ª–∏–∂–µ –∫ —Ü–µ–Ω—Ç—Ä—É).

## –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—â–µ–Ω–∏–µ–º

–ú–æ–∂–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—Ä–∞—â–µ–Ω–∏—è:

```dart
class _MyHomePageState extends State<MyHomePage> {
  final wheelKey = GlobalKey<FortuneWheelWidgetState>();

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        FortuneWheelWidget(
          key: wheelKey,
          onResult: (result) => print('–†–µ–∑—É–ª—å—Ç–∞—Ç: $result'),
          showSectionIndex: true, // –î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
        ),
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
        ElevatedButton(
          onPressed: () => wheelKey.currentState?.spinToWin(),
          child: Text('–í—ã–∏–≥—Ä–∞—Ç—å'),
        ),
        ElevatedButton(
          onPressed: () => wheelKey.currentState?.spinToLose(),
          child: Text('–ü—Ä–æ–∏–≥—Ä–∞—Ç—å'),
        ),
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ–∫—Ü–∏–∏ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
        ElevatedButton(
          onPressed: () => wheelKey.currentState?.spinToSection(5),
          child: Text('–°–µ–∫—Ü–∏—è 5'),
        ),
      ],
    );
  }
}
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

- **`spinToWin({double? duration})`** - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–π –∑–µ–ª–µ–Ω–æ–π —Å–µ–∫—Ü–∏–∏ "–í—ã–∏–≥—Ä–∞–ª"
- **`spinToLose({double? duration})`** - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–π –∫—Ä–∞—Å–Ω–æ–π —Å–µ–∫—Ü–∏–∏ "–ù–µ –≤—ã–∏–≥—Ä–∞–ª"
- **`spinToSection(int index, {double? duration})`** - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ–∫—Ü–∏–∏ –ø–æ –∏–Ω–¥–µ–∫—Å—É

–í—Å–µ –º–µ—Ç–æ–¥—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `duration` –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—Ä–∞—â–µ–Ω–∏—è:

```dart
// –ë—ã—Å—Ç—Ä–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ (2 —Å–µ–∫—É–Ω–¥—ã)
wheelKey.currentState?.spinToWin(duration: 2.0);

// –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ (10 —Å–µ–∫—É–Ω–¥)
wheelKey.currentState?.spinToLose(duration: 10.0);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ –≤–∏–¥–∂–µ—Ç–∞
wheelKey.currentState?.spinToWin();
```

–ö–æ–ª–µ—Å–æ —Å–¥–µ–ª–∞–µ—Ç 3-5 –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–æ–≤ —Å –Ω–µ–±–æ–ª—å—à–∏–º —Å–ª—É—á–∞–π–Ω—ã–º –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ–º –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ —Å–µ–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏.

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

### FortuneWheelWidget

- `onResult` - callback, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –∫–æ–ª–µ—Å–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- `width` - —à–∏—Ä–∏–Ω–∞ –≤–∏–¥–∂–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `height` - –≤—ã—Å–æ—Ç–∞ –≤–∏–¥–∂–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `spinDuration` - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3.0)
- `backgroundColor` - —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ –∏–≥—Ä—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —á–µ—Ä–Ω—ã–π)
- `pointerPosition` - –ø–æ–∑–∏—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∏: `PointerPosition.top`, `bottom`, `left`, `right` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é top)
- `pointerOffset` - –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–µ–ª–∫–∞ –∑–∞—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä—å –∫–æ–ª–µ—Å–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.0)
- `pointerWidth` - —à–∏—Ä–∏–Ω–∞ —Å—Ç—Ä–µ–ª–∫–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö, –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä –∫–æ–ª–µ—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 25.0)
- `pointerHeight` - –≤—ã—Å–æ—Ç–∞ —Å—Ç—Ä–µ–ª–∫–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö, –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä –∫–æ–ª–µ—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 40.0)
- `sectionsCount` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ü–∏–π –Ω–∞ –∫–æ–ª–µ—Å–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10, —á–µ—Ç–Ω—ã–µ - –≤—ã–∏–≥—Ä–∞–ª, –Ω–µ—á–µ—Ç–Ω—ã–µ - –ø—Ä–æ–∏–≥—Ä–∞–ª)
- `showSectionIndex` - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã —Å–µ–∫—Ü–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Flutter: >= 1.17.0
- Dart: ^3.8.0
- Flame: ^1.32.0

